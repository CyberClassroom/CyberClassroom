<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kali Linux Basics - CyberClassroom</title>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-color: #0d1117; --text-color: #e0e0e0; --accent-color: #58a6ff;
      --card-bg: #161b22; --border-color: #30363d; --btn-bg: #161b22;
      --btn-hover-bg: #21262d;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family:'Fira Code', monospace;
      background-color: var(--bg-color);
      color: var(--text-color);
      min-height:100vh;
      padding: 40px 20px 40px 100px; /* Left padding added for buttons */
      transition:background-color 0.4s, color 0.4s;
      position: relative;
    }
    header { text-align:center; margin-bottom:30px; }
    header h1 {
      font-size:2.8rem; color: var(--accent-color);
      margin-bottom:6px; letter-spacing:1.2px;
    }
    header p {
      font-size:1.2rem; color:#8b949e; font-weight:500;
    }
    main { max-width:900px; margin:0 auto; }
    .video-container {
      position:relative; width:100%; padding-bottom:56.25%; margin-bottom:20px;
    }
    iframe {
      position:absolute; width:100%; height:100%; border:none;
      border-radius:6px; box-shadow:0 4px 12px rgba(0,0,0,0.7);
    }
    h2 {
      font-size:1.8rem; color:var(--accent-color);
      margin-bottom:12px; font-weight:600;
      border-bottom:2px solid var(--border-color); padding-bottom:8px;
    }
    .video-title {
      font-size:1.6rem; font-weight:700; margin-bottom:8px;
      color:var(--accent-color);
    }
    .video-stats {
      font-size:0.9rem; color:#8b949e; margin-bottom:15px;
    }
    .video-description {
      font-size:1rem; line-height:1.4; margin-bottom:25px;
    }
    .playlist {
      display:flex; flex-direction:column; gap:12px;
      max-height:400px; overflow-y:auto; padding-right:8px;
    }
    .playlist-item {
      display:flex; align-items:center;
      background-color:var(--card-bg);
      border:1px solid var(--border-color);
      border-radius:6px; padding:10px;
      cursor:pointer; transition:background-color 0.2s;
    }
    .playlist-item:hover {
      background-color:var(--btn-hover-bg);
    }
    .playlist-item img {
      width:120px; height:67px;
      object-fit:cover; border-radius:4px;
      margin-right:12px; flex-shrink:0;
      box-shadow:0 2px 8px rgba(0,0,0,0.4);
    }
    .playlist-info { flex:1; }
    .playlist-title {
      font-size:1rem; font-weight:600;
      margin-bottom:4px; color:var(--accent-color);
    }
    .playlist-desc {
      font-size:0.85rem; color:#8b949e;
    }

    /* Back to Home Buttons */
    .back-home-btn {
      position: fixed;
      left: 20px;
      background: rgba(40, 44, 52, 0.75);
      backdrop-filter: blur(6px);
      border: 1.5px solid var(--accent-color);
      color: var(--accent-color);
      padding: 8px 12px;
      font-family: 'Fira Code', monospace;
      font-weight: 600;
      font-size: 0.95rem;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 0 12px rgba(88, 166, 255, 0.4);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      max-width: 140px;
      white-space: nowrap;
      user-select: none;
      z-index: 9999;
    }
    .back-home-btn.show {
      opacity: 0.85;
      pointer-events: auto;
    }
    .back-home-btn:hover,
    .back-home-btn:focus-visible {
      opacity: 1;
      box-shadow: 0 0 20px var(--accent-color);
      outline: none;
    }
    .back-home-top {
      top: 20px;
    }
    .back-home-bottom {
      bottom: 20px;
    }

    @media(max-width:600px) {
      .playlist-item {
        flex-direction:column; align-items:flex-start;
      }
      .playlist-item img {
        width:100%; height:auto; margin-bottom:8px;
      }
      body {
        padding-left: 70px; /* smaller padding on small screens */
      }
      .back-home-btn {
        padding: 6px 10px;
        font-size: 0.85rem;
        max-width: 110px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>CyberClassroom</h1>
    <p>Kali Linux Tutorials, Tools, and Resources</p>
  </header>

  <main>
    <section>
      <div class="video-container">
        <iframe
          id="main-video-iframe"
          src="https://www.youtube.com/embed/HjzKFPhell8?autoplay=1"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          title="Kali Linux Basics">
        </iframe>
      </div>
      <h2 id="main-video-title" class="video-title">Kali Linux Basics</h2>
      <div class="video-stats">Views: 123K | Likes: 4.5K | Uploaded: Jan 2025</div>
      <p class="video-description">
        This tutorial covers the basics of Kali Linux including installation, setup, and initial commands.
      </p>
    </section>

    <!-- Utterances Comments Section -->
    <section id="utterances-container" style="margin-bottom: 40px;"></section>

    <section>
      <h2>Playlist</h2>
      <div id="playlist" class="playlist"></div>
    </section>
  </main>

  <!-- Back to Home Buttons -->
  <button class="back-home-btn back-home-top" aria-label="Back to Home Top" onclick="goHome()">Back to Home</button>
  <button class="back-home-btn back-home-bottom" aria-label="Back to Home Bottom" onclick="goHome()">Back to Home</button>

  <script>
    const videos = [
      {
        title: "Kali Linux Basics",
        embedUrl: "https://www.youtube.com/embed/HjzKFPhell8",
        thumbnail: "https://img.youtube.com/vi/HjzKFPhell8/hqdefault.jpg",
        stats: "Views: 123K | Likes: 4.5K | Uploaded: Jan 2025",
        description: "This tutorial covers the basics of Kali Linux including installation, setup, and initial commands."
      },
      {
        title: "COMMANDS IN KALI LINUX PART‑1",
        embedUrl: "https://www.youtube.com/embed/GA8dA-5xbI8",
        thumbnail: "https://img.youtube.com/vi/GA8dA-5xbI8/hqdefault.jpg",
        stats: "Views: 90K | Likes: 3.9K | Uploaded: TBD",
        description: "Learn and practice essential commands in Kali Linux – Part 1."
      },
      {
        title: "COMMANDS IN KALI LINUX PART 2",
        embedUrl: "https://www.youtube.com/embed/OJNQyXjqv14",
        thumbnail: "https://img.youtube.com/vi/OJNQyXjqv14/hqdefault.jpg",
        stats: "Views: 85K | Likes: 3.7K | Uploaded: TBD",
        description: "Continue exploring essential Kali Linux commands – Part 2."
      }
    ];

    const playlistEl = document.getElementById('playlist');
    const utterancesContainer = document.getElementById('utterances-container');

    function createPlaylistItem(video) {
      const div = document.createElement('div');
      div.className = 'playlist-item';
      div.tabIndex = 0;
      div.innerHTML = `
        <img src="${video.thumbnail}" alt="${video.title} thumbnail" />
        <div class="playlist-info">
          <div class="playlist-title">${video.title}</div>
          <div class="playlist-desc">${video.description}</div>
        </div>`;
      div.addEventListener('click', () => loadVideo(video));
      div.addEventListener('keypress', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          div.click();
        }
      });
      return div;
    }

    function loadVideo(video) {
      const iframe = document.getElementById('main-video-iframe');
      const src = video.embedUrl.includes('?') ? `${video.embedUrl}&autoplay=1` : `${video.embedUrl}?autoplay=1`;
      iframe.src = src;
      document.getElementById('main-video-title').textContent = video.title;
      document.querySelector('.video-stats').textContent = video.stats;
      document.querySelector('.video-description').textContent = video.description;
      window.scrollTo({ top: 0, behavior: 'smooth' });

      // Load comments for the selected video
      loadUtterances(video.title);
    }

    function renderPlaylist() {
      playlistEl.innerHTML = '';
      videos.forEach(v => playlistEl.appendChild(createPlaylistItem(v)));
    }

    renderPlaylist();

    // Back to Home button logic
    const backTopBtn = document.querySelector('.back-home-top');
    const backBottomBtn = document.querySelector('.back-home-bottom');

    function goHome() {
      window.location.href = '../index.html'; // Adjust as necessary
    }

    function checkScroll() {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight;
      const clientHeight = document.documentElement.clientHeight;

      if (scrollTop === 0) {
        backTopBtn.classList.add('show');
      } else {
        backTopBtn.classList.remove('show');
      }

      if (scrollTop + clientHeight >= scrollHeight - 5) {
        backBottomBtn.classList.add('show');
      } else {
        backBottomBtn.classList.remove('show');
      }
    }

    window.addEventListener('scroll', checkScroll);
    window.addEventListener('load', checkScroll);

    // Utterances integration: dynamically load for each video
    function loadUtterances(pageTitle) {
      // Clear old utterances iframe if exists
      while (utterancesContainer.firstChild) {
        utterancesContainer.removeChild(utterancesContainer.firstChild);
      }

      const script = document.createElement('script');
      script.src = 'https://utteranc.es/client.js';
      script.setAttribute('repo', 'CyberClassroom/cyberclassroom.github.io');
      script.setAttribute('issue-term', 'title');
      script.setAttribute('theme', 'github-dark'); // matches your dark UI
      script.setAttribute('crossorigin', 'anonymous');
      script.async = true;

      // Use pageTitle as data-issue-term by temporarily modifying title
      // Utterances picks up the page title automatically, so we update document.title here:
      document.title = pageTitle + " - CyberClassroom";

      utterancesContainer.appendChild(script);
    }

    // Load comments for the default video on page load
    loadUtterances(videos[0].title);
  </script>
</body>
</html>
